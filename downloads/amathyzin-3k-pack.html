<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v5.8.14, mobirise.com">
  <link rel="shortcut icon" href="../icon.png" type="image/x-icon">
  <meta name="description" content="Deseja otimizar seu computador? Aqui é o lugar certo pra você! Segurança e eficiência garantidas!">
  <title>aMathyzin - 3k Pack</title>
  <link rel="icon" href="../icon.png" type="image/x-icon">
  <meta property="og:title" content="aMathyzin 3k Pack Download">
  <meta property="og:description" content="Download do pack especial de 3.000 Inscritos do aMathyzin!">
  <meta property="og:image" content="../icon.png">
  <meta property="og:url" content="https://amathyzin.tech/">
  <meta property="og:type" content="website">
  <link rel="stylesheet" type="text/css" href="../styles.css">
  <!-- Inclusão do SweetAlert -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    .content {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      padding: 20px;
    }
    .video-tutorial, .download-section {
      flex: 1;
      padding-right: 20px;
    }
    .download-section {
      border: 1px solid #ccc;
      padding: 20px;
      border-radius: 5px;
      text-align: center;
    }
    .download-button, .password-button {
      background-color: #8605C2;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 18px;
      text-decoration: none;
      display: inline-block;
      margin: 5px;
    }
    .download-button:hover, .password-button:hover {
      background-color: #45a049;
    }
    .progress-bar-container {
      width: 100%;
      background-color: #7603AB;
      margin-top: 20px;
      margin-bottom: 20px;
      height: 20px;
      border-radius: 5px;
      overflow: hidden;
      position: relative;
    }
    .progress-bar {
      height: 100%;
      background-color: #B84BFF;
      width: 0%;
      border-radius: 5px;
      transition: width 0.4s ease;
      position: relative;
    }
    .progress-text {
      position: absolute;
      width: 100%;
      text-align: center;
      color: white;
      font-weight: bold;
      top: 50%;
      transform: translateY(-50%);
    }
    .progress-indicator {
      position: absolute;
      top: -25px;
      left: 0;
      right: 0;
      text-align: center;
      color: #888;
      font-size: 14px;
    }
    @media (max-width: 768px) {
      .content {
        flex-direction: column;
      }
      .video-tutorial, .download-section {
        width: 100%;
        padding-right: 0;
        margin-bottom: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="loader-wrapper">
    <div class="loader"></div>
  </div>
  <div class="navbar">
    <div class="left">
      <span class="logo">
        <img class="icon" src="https://amathyzin.tech/icon.png" alt="aMathyzin">
        aMathyzin
        <div class="switch-container">
          <label class="switch">
            <input type="checkbox" id="audio-checkbox">
            <span class="slider"></span>
          </label>
        </div>
      </span>
    </div>
    <div class="right">
      <a href="https://www.youtube.com/@aMathyzin" target="_blank" class="icon-link">
        <img class="icon" src="../youtube.png" alt="YouTube">
      </a>
      <a href="https://amathyzin.tech/discord" target="_blank" class="icon-link">
        <img class="icon" src="../discord.png" alt="Discord">
      </a>
    </div>
  </div>
  <div class="content">
    <div class="video-tutorial">
      <h2 style="text-align:center;">Tutorial</h2>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/zpEBXXaGayg" frameborder="0" allowfullscreen></iframe>
    </div>
    <div class="download-section">
      <img class="file-icon" src="./icons/3kpack.png" alt="Arquivo"> <!-- Sua imagem personalizada -->
      <h2>Download do Arquivo</h2>
      <p>aMathyzin 3k Pack.zip - 2.7 MB</p>
      <div class="progress-bar-container">
        <div class="progress-bar" id="progress-bar"></div>
        <div class="progress-text" id="progress-text">0%</div>
        <div class="progress-indicator" id="progress-indicator">0 MB de 2.7 MB</div>
      </div>
      <p>Otimização especial dos 3.000 inscritos no canal aMathyzin! Pack focado em melhorar o desempenho geral do pc para jogos! Assista o tutorial para saber como utiliza-lo da melhor maneira.</p>
      <button onclick="iniciarDownload('../arquivos/aMathyzin 3k Pack.zip', 'aMathyzin 3k Pack.zip')" class="download-button">Download</button>
      <button onclick="mostrarSenha()" class="password-button">Senha</button>
    </div>
  </div>
  <div style="height: 30px;"></div>
  <div class="copyright-bar">
    © Copyright aMathyzin 2024. Todos os direitos reservados.
  </div>
  <audio id="myaudio">
    <source src="../lofi.mp3" type="audio/mp3">
  </audio>

  <script>
    window.onload = () => {
      document.querySelector('.loader-wrapper').style.display = 'none';
    }

    document.getElementById('audio-checkbox').addEventListener('change', function() {
      var audio = document.getElementById('myaudio');
      if (this.checked) {
        audio.play();
      } else {
        audio.pause();
      }
    });

    function iniciarDownload(url, nomeArquivo) {
      var xhr = new XMLHttpRequest();
      xhr.open('GET', url, true);
      xhr.responseType = 'blob';

      xhr.onloadstart = function() {
        // Inicia a barra de progresso
        document.getElementById('progress-bar').style.width = '0%';
        document.getElementById('progress-text').innerText = '0%';
      };

      xhr.onprogress = function(event) {
        // Atualiza a barra de progresso durante o download
        if (event.lengthComputable) {
          var percentComplete = (event.loaded / event.total) * 100;
          document.getElementById('progress-bar').style.width = percentComplete + '%';
          document.getElementById('progress-text').innerText = percentComplete.toFixed(2) + '%';
          
          // Calcula o tamanho do arquivo em MB e atualiza a exibição
          var totalSizeMB = (event.total / (1024 * 1024)).toFixed(1);
          var downloadedSizeMB = (event.loaded / (1024 * 1024)).toFixed(1);
          document.getElementById('progress-indicator').innerText = downloadedSizeMB + ' MB de ' + totalSizeMB + ' MB';
        }
      };

      xhr.onload = function() {
        // Ao completar o download, redireciona para o URL do arquivo com o nome especificado
        if (xhr.status === 200) {
          document.getElementById('progress-bar').style.width = '100%';
          document.getElementById('progress-text').innerText = '100%';
          setTimeout(function() {
            var blob = new Blob([xhr.response], { type: 'application/octet-stream' });
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = nomeArquivo;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            // Exibe o popup informando que o download foi concluído
            Swal.fire({
              title: 'Download Concluído!',
              text: 'Seu arquivo foi baixado com sucesso.',
              icon: 'success',
              background: '#333',
              confirmButtonText: 'OK',
              color: '#FFF',
              backdrop: 'rgba(0,0,0,0.5)'
            });
          }, 1000); // Adiciona um pequeno atraso antes de iniciar o download (1 segundo)
        }
      };

      xhr.send();
    }

    function mostrarSenha() {
      Swal.fire({
        title: 'Senha do Pack',
        text: 'Entre no servidor do Discord para pegar a senha!',
        icon: 'info',
        showCancelButton: true, // Mostra o botão cancelar
        confirmButtonText: 'Entrar',
        cancelButtonText: 'Cancelar', // Texto do botão cancelar
        footer: 'ou <a href="https://teste.teste">Pegar via Encurtador</a>', // Adiciona opção do encurtador no footer
        background: '#333', // Define a cor de fundo do popup para uma cor escura
        color: '#FFF', // Define a cor do texto para branco
        backdrop: 'rgba(0,0,0,0.5)' // Define a cor e opacidade do fundo da página
      }).then((result) => {
        if (result.isConfirmed) {
          window.location.href = 'https://amathyzin.tech/discord'; // Redireciona para o Discord ao clicar em "OK"
        }
      });
    }
  </script>
</body>
</html>
